<!DOCTYPE html>
<html lang="es">
<body>
    <h1>Modificar Canción</h1>

    <div class="form">
        <img [src]="newSong.image || 'assets/images/Square.png'" alt="Portada de la canión" class="song-thumbnail">
        <input type="file" id="image" (change)="uploadPhoto($event)" style="display: none;">

        <div class="upload-thumbnail">
            <label for="image">1. Cargar portada de la canción</label>
            <div class="upload-thumbnail-button">
                <button type="button" (click)="triggerFileInput()">Subir foto</button>
            </div>
        </div>

        <div class="enter-title">
            <label for="name">2. Introduce el nombre de la canción</label>
            <div class="enter-title-input">
                <input type="text" id="name" name="name" [(ngModel)]="newSong.name" placeholder="Nombre canción" class="title-input">
            </div>
        </div>

        <div class="load-song">
            <label for="name" class="step-3">3. Carga la pista de audio</label>

            <div class="song-file">
                <input type="file" id="file" (change)="uploadSong($event)" style="display: none;">
                <button type="button" (click)="triggerSongInput()">Cargar pista</button>
            </div>

            <audio *ngIf="audioSrc" [src]="audioSrc" controls class="audio-player"></audio>
        </div>

        <div class="define-price">
            <label for="price">4. Definir Precio</label>
            <div class="enter-title-input">
                <input type="number" id="price" name="price" [(ngModel)]="newSong.price" placeholder="Precio" class="price-input">
            </div>
        </div>

        <div class="create-song">
            <button type="button" (click)="createSong()">Modificar Canción</button>
        </div>

        <div class="change-history">
            <label for="changes">Historial de cambios</label>
            <div class="changesList" *ngFor="let change of changeHistory">
                <h2 class="modification"> {{ change.modification }} </h2>
                <h2 class="date"> {{ change.date }} </h2>
                <h2 class="price"> {{ change.price }} </h2>
                <button type="button">Restablecer</button>
            </div>
        </div>
    </div>
</body>
</html>